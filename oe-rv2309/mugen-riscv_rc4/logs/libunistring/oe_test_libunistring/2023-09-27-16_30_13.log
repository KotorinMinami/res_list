+ source ../common/common_lib.sh
++ source /root/mugen/libs/locallibs/common_lib.sh
+++ python3 --version
+ source ../common/common_lib.sh
++ source /root/mugen/libs/locallibs/common_lib.sh
+++ python3 --version
+++ '[' 0 -eq 0 ']'
+++ source /root/mugen/libs/locallibs/common_lib_python.sh
+++ '[' 0 -eq 0 ']'
+++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ main
+ rpm -qa
++ type -t post_test
+ grep expect
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start environmental preparation.'
+ message='Start environmental preparation.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start environmental preparation.'
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start environmental preparation.'
+ message='Start environmental preparation.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start environmental preparation.'
Wed Sep 27 16:30:17 2023 - INFO  - Start environmental preparation.
+ DNF_INSTALL 'gcc libunistring libunistring-devel'
+ pkgs='gcc libunistring libunistring-devel'
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen/libs/locallibs/rpm_manage.py install --pkgs 'gcc libunistring libunistring-devel' --node 1 --tempfile ''
Wed Sep 27 16:30:17 2023 - INFO  - Start environmental preparation.
+ DNF_INSTALL 'gcc libunistring libunistring-devel'
+ pkgs='gcc libunistring libunistring-devel'
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen/libs/locallibs/rpm_manage.py install --pkgs 'gcc libunistring libunistring-devel' --node 1 --tempfile ''
+ tmpfile2='Last metadata expiration check: 7:31:42 ago on Wed 27 Sep 2023 08:59:17 AM CST.
Package gcc-12.3.1-16.oe2309.riscv64 is already installed.
Package libunistring-1.1-2.oe2309.riscv64 is already installed.
Dependencies resolved.
================================================================================
 Package                   Architecture   Version               Repo       Size
================================================================================
Installing:
 libunistring-devel        riscv64        1.1-2.oe2309          OS        101 k

Transaction Summary
================================================================================
Install  1 Package

Total size: 101 k
Installed size: 230 k
Downloading Packages:
[SKIPPED] libunistring-devel-1.1-2.oe2309.riscv64.rpm: Already downloaded      
Running transaction check
Waiting for process with pid 1716 to finish.
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing '\''dnf clean packages'\''.
Error: Transaction test error:
  package libunistring-devel-1.1-2.oe2309.riscv64 is already installed'
+ '[' -z '' ']'
+ tmpfile='Last metadata expiration check: 7:31:42 ago on Wed 27 Sep 2023 08:59:17 AM CST.
Package gcc-12.3.1-16.oe2309.riscv64 is already installed.
Package libunistring-1.1-2.oe2309.riscv64 is already installed.
Dependencies resolved.
================================================================================
 Package                   Architecture   Version               Repo       Size
================================================================================
Installing:
 libunistring-devel        riscv64        1.1-2.oe2309          OS        101 k

Transaction Summary
================================================================================
Install  1 Package

Total size: 101 k
Installed size: 230 k
Downloading Packages:
[SKIPPED] libunistring-devel-1.1-2.oe2309.riscv64.rpm: Already downloaded      
Running transaction check
Waiting for process with pid 1716 to finish.
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing '\''dnf clean packages'\''.
Error: Transaction test error:
  package libunistring-devel-1.1-2.oe2309.riscv64 is already installed'
+ LOG_INFO 'End of environmental preparation!'
+ message='End of environmental preparation!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End of environmental preparation!'
Wed Sep 27 16:31:03 2023 - INFO  - End of environmental preparation!
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start testing...'
+ message='Start testing...'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start testing...'
Wed Sep 27 16:31:03 2023 - INFO  - Start testing...
+ rm -rf a.out log
+ gcc -std=c11 -pedantic -lunistring libunistring_test.c
+ tmpfile2=/tmp/tmp_874aypx
+ '[' -z '' ']'
+ tmpfile=/tmp/tmp_874aypx
+ LOG_INFO 'End of environmental preparation!'
+ message='End of environmental preparation!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End of environmental preparation!'
Wed Sep 27 16:31:05 2023 - INFO  - End of environmental preparation!
+ CHECK_RESULT 0 0 0 'compile libunistring_test.c failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile libunistring_test.c failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ls a.out
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start testing...'
+ message='Start testing...'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start testing...'
a.out
+ CHECK_RESULT 0 0 0 'compile a.out failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile a.out failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ./a.out
+ grep 0000001000101 log
0000001000101
+ CHECK_RESULT 0 0 0 'compile a.out failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile a.out failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ LOG_INFO 'Finish test!'
+ message='Finish test!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish test!'
Wed Sep 27 16:31:05 2023 - INFO  - Start testing...
+ rm -rf a.out log
+ gcc -std=c11 -pedantic -lunistring libunistring_test.c
Wed Sep 27 16:31:05 2023 - INFO  - Finish test!
+ CASE_RESULT 0
+ case_re=0
+ test -z ''
+ test 0 -eq 0
+ LOG_INFO 'succeed to execute the case.'
+ message='succeed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'succeed to execute the case.'
Wed Sep 27 16:31:06 2023 - INFO  - succeed to execute the case.
+ exec_result=
+ exit 0
+ post_test
+ LOG_INFO 'start environment cleanup.'
+ message='start environment cleanup.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'start environment cleanup.'
+ CHECK_RESULT 0 0 0 'compile libunistring_test.c failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile libunistring_test.c failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ls a.out
a.out
+ CHECK_RESULT 0 0 0 'compile a.out failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile a.out failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ ./a.out
+ grep 0000001000101 log
0000001000101
+ CHECK_RESULT 0 0 0 'compile a.out failed'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='compile a.out failed'
+ exit_mode=0
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ LOG_INFO 'Finish test!'
+ message='Finish test!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish test!'
Wed Sep 27 16:31:06 2023 - INFO  - start environment cleanup.
+ rm -rf a.out log
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z Last metadata expiration check: 7:31:42 ago on Wed 27 Sep 2023 08:59:17 AM CST.
Package gcc-12.3.1-16.oe2309.riscv64 is already installed.
Package libunistring-1.1-2.oe2309.riscv64 is already installed.
Dependencies resolved.
================================================================================
 Package                   Architecture   Version               Repo       Size
================================================================================
Installing:
 libunistring-devel        riscv64        1.1-2.oe2309          OS        101 k

Transaction Summary
================================================================================
Install  1 Package

Total size: 101 k
Installed size: 230 k
Downloading Packages:
[SKIPPED] libunistring-devel-1.1-2.oe2309.riscv64.rpm: Already downloaded      
Running transaction check
Waiting for process with pid 1716 to finish.
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing 'dnf clean packages'.
Error: Transaction test error:
  package libunistring-devel-1.1-2.oe2309.riscv64 is already installed ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile 'Last metadata expiration check: 7:31:42 ago on Wed 27 Sep 2023 08:59:17 AM CST.
Package gcc-12.3.1-16.oe2309.riscv64 is already installed.
Package libunistring-1.1-2.oe2309.riscv64 is already installed.
Dependencies resolved.
================================================================================
 Package                   Architecture   Version               Repo       Size
================================================================================
Installing:
 libunistring-devel        riscv64        1.1-2.oe2309          OS        101 k

Transaction Summary
================================================================================
Install  1 Package

Total size: 101 k
Installed size: 230 k
Downloading Packages:
[SKIPPED] libunistring-devel-1.1-2.oe2309.riscv64.rpm: Already downloaded      
Running transaction check
Waiting for process with pid 1716 to finish.
Transaction check succeeded.
Running transaction test
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing '\''dnf clean packages'\''.
Error: Transaction test error:
  package libunistring-devel-1.1-2.oe2309.riscv64 is already installed'
Wed Sep 27 16:31:07 2023 - INFO  - Finish test!
+ CASE_RESULT 0
+ case_re=0
+ test -z ''
+ test 0 -eq 0
+ LOG_INFO 'succeed to execute the case.'
+ message='succeed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'succeed to execute the case.'
Wed Sep 27 16:31:07 2023 - INFO  - succeed to execute the case.
+ exec_result=
+ exit 0
+ post_test
+ LOG_INFO 'start environment cleanup.'
+ message='start environment cleanup.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'start environment cleanup.'
Wed Sep 27 16:31:08 2023 - INFO  - start environment cleanup.
+ rm -rf a.out log
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmp_874aypx ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/mugen/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmp_874aypx
Traceback (most recent call last):
  File "/root/mugen/libs/locallibs/rpm_manage.py", line 192, in <module>
    exitcode = rpm_remove(args.node, args.pkgs, args.tempfile)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/mugen/libs/locallibs/rpm_manage.py", line 163, in rpm_remove
    with open(tmpfile, "r") as f:
         ^^^^^^^^^^^^^^^^^^
OSError: [Errno 36] File name too long: "Last metadata expiration check: 7:31:42 ago on Wed 27 Sep 2023 08:59:17 AM CST.\nPackage gcc-12.3.1-16.oe2309.riscv64 is already installed.\nPackage libunistring-1.1-2.oe2309.riscv64 is already installed.\nDependencies resolved.\n================================================================================\n Package                   Architecture   Version               Repo       Size\n================================================================================\nInstalling:\n libunistring-devel        riscv64        1.1-2.oe2309          OS        101 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n\nTotal size: 101 k\nInstalled size: 230 k\nDownloading Packages:\n[SKIPPED] libunistring-devel-1.1-2.oe2309.riscv64.rpm: Already downloaded      \nRunning transaction check\nWaiting for process with pid 1716 to finish.\nTransaction check succeeded.\nRunning transaction test\nThe downloaded packages were saved in cache until the next successful transaction.\nYou can remove cached packages by executing 'dnf clean packages'.\nError: Transaction test error:\n  package libunistring-devel-1.1-2.oe2309.riscv64 is already installed"
+ '[' 0 -ne 0 ']'
+ LOG_INFO 'Finish environment cleanup!'
+ message='Finish environment cleanup!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish environment cleanup!'
Wed Sep 27 16:31:09 2023 - INFO  - Finish environment cleanup!
+ '[' 0 -ne 0 ']'
+ LOG_INFO 'Finish environment cleanup!'
+ message='Finish environment cleanup!'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Finish environment cleanup!'
Wed Sep 27 16:31:20 2023 - INFO  - Finish environment cleanup!
