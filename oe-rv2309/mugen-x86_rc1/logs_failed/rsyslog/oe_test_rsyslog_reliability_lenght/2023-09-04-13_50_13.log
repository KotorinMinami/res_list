+ source /root/mugen/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/mugen/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start to prepare the test environment.'
+ message='Start to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to prepare the test environment.'
Mon Sep  4 13:50:13 2023 - INFO  - Start to prepare the test environment.
+ DNF_INSTALL net-tools
+ pkgs=net-tools
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/mugen/libs/locallibs/rpm_manage.py install --pkgs net-tools --node 1 --tempfile ''
Mon Sep  4 13:50:14 2023 - INFO  - pkgs:(net-tools) is already installed
+ tmpfile2=
+ '[' -z '' ']'
+ tmpfile=
+ systemctl stop iptables
Failed to stop iptables.service: Unit iptables.service not loaded.
+ cat
+ systemctl restart rsyslog
+ grep 514
+ netstat -anpt
+ grep rsyslogd
tcp        0      0 0.0.0.0:514             0.0.0.0:*               LISTEN      6959/rsyslogd       
tcp6       0      0 :::514                  :::*                    LISTEN      6959/rsyslogd       
+ SSH_CMD '
    systemctl stop iptables && echo '\''local6.* @@127.0.0.1'\'' > /etc/rsyslog.d/client.conf
    systemctl restart rsyslog
    '
+ cmd='
    systemctl stop iptables && echo '\''local6.* @@127.0.0.1'\'' > /etc/rsyslog.d/client.conf
    systemctl restart rsyslog
    '
+ remoteip=
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c '
    systemctl stop iptables && echo '\''local6.* @@127.0.0.1'\'' > /etc/rsyslog.d/client.conf
    systemctl restart rsyslog
    ' -i '' -u root -p 'openEuler12#$' -t 300 -o 22
Usage: sshcmd.sh -c "command" -i "remote machinet ip" [-u login_user] [-p login_password] [-o port] [-t timeout]+ ret=1
+ test 1 -ne 0
+ LOG_ERROR 'Failed in remote CMD operation:1'
+ message='Failed in remote CMD operation:1'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'Failed in remote CMD operation:1'
Mon Sep  4 13:50:14 2023 - ERROR - Failed in remote CMD operation:1
+ return 1
++ date +%s%N
++ cut -c 9-13
+ time=14706
++ head -c 1536 /dev/urandom
++ od -A n -t x
++ tr -d ' '
++ sed ':a;N;s/\n/ /g;ta'
+ string='7b082d35a6f952c739da3e6ca913c953 7f09841a4aa940132171013d4603688c 893dea747e9e053fa97f6424424a0fc0 62836eca8b43635025f2eb6d9f096f08 1eb4b5cbe5a3565e831fa955f071e300 0bbef60fdbdb328ddfc9e3e2fc368960 5971ae606fd571a3e4ab281682ccf104 5812b21afbb63770e6191e03e1addcc4 315fa75f3bde24304246424d428267f3 0b08cc871fe41dcc736a293b6ae42eb9 e81c2cd76ff733d447be981bfeca4b6a dcf1f5e8e31e73b1dc692ab4c3f3d74f df52e85e2c5145f28acdcdffac9cceaa 93a7b76c26ab0503c383a761ecddbf7c 5afb480c200e62f9e6620cfa9ca4acd0 3b718b6cadf1c4fe0ff9cc8066a7aaf2 9db6d531aa174677e6e1f09297d80f39 a4fdc0f775d40aec569c56acc222b70a e7e9c150f1dcf70cb80af471c8b4c373 8169db34ff8990aabeb1d1130a5f2b0d bb22f82978182c19dd0ad28227a129b3 6519f72a297bc6a7670884f310e4d855 6372cbc4b938924fff84c6cedceb4ef3 2fba572f426330c6232016d9d1076e9d eeb9f58f8c37da060bf4f00564aa2c8d 493773bdd295cbbcfa25a045f1e03bf7 eac909c5c21da859fa6ead3e0b73b6cd 2e98aa86a66ee98acb36b3b2a4434360 c9a6df9edee62d19690eb0f857ef3c50 d338025ccf6e60524c173622ca094f28 84718333e2d0c785c09141da882e4e41 8c58fccf3efa933d22bd942dab2568a1 4edc27e15c60a6c540c69d4fa164390b ed562db26f6958a7f8780e054ff83bda 92fa0e72551307dffa01b88b4cb18a2a 4cb86dafcb160621416d0b0595130e3f b0916c04e5c9deaeaf2e71bc25fa4dda 12306368245307a53ef6a070198cd523 99fa6c3e42a957ba11d14c8a79f82a17 cbc558ac55a00676559275abf3c64ab2 df7651e9f933767307a66c902b3fe6a7 a23cdbd4d519306f41cae1bd04f76893 4a7db13b645ed6b6413b6c866a19ed39 c5d71029ba31a30965745cedb2a3cd9d 12beb4909823e46e590933ba8928adbc 5286b25abf1aae7d9bf10f1a34c515ba 5b8dd1f71df57d469374f8a0681e41cd cbff924cdf5664dea4263e7ff4414fb9 4ccec3975c645ba3cba289269b0d530b 1f6f924eae2fd2944d6a4831c2e3a685 94608ea44c8fa6b4790fb1fd906f6a70 b6b6ab0cdc878da533f0ad1f82caf24a bf7d67cab48ec14dbcbb85699416614b 3250d80ce4c3e0b87e4ca61371c2cd15 4d905e18e9d76e42626316f763d9d17c 068e3a23004d6918c9e9aa42c90e9fa0 741aa3ffe08cc261451cbbb862e0ed6a f1786ba6516b769eb373ace5c33757ba 9f1ac99cfc7e13f65e41f9c2193a5d8e 2beabccb1eae302e4749fa5058ccf6ed 94d72c19a41befe3ccde6eda2b4c4bd6 08c9cf81f9120e0558a308b6a22b78c1 11416b4f68fe16a5b9825ac4efc70d8d 71fb2ea316dfa2922f44967a540d000e 5ffb78e2a09d0da28c891c605d49f817 2a01246bbc6bdf1ff7c19e86ff49546f 5bbcb3b2acd0e54a238219f20ca7cea8 cff459efc506f15a6938e377b454647d eeae98e6e868e3b853fc6c2e277f6007 0696996abd32ab5d99aafef463270108 0e615fb7ab7271c1ff313b7a8bb0bb28 2530be84625e4c83819489c96d38527d 307d29ec747a5f0a6727f7ffd8cf9550 1af5fdc78d7e03332b96c6bd629d9c9e 2e749c25db58b69d276da48fcb12d307 c0021e7c182a829a52aa4a7f2af06025 7084ae4d2a9b30184b692d814977bf62 c8e260d86a5496ed1025daebb9d15964 4483d07ff6ccc0aab9793b0ea6801795 e64d425f2569da11797768b01c744737 3a838b252e5c5cfc5660ab09594c7314 6d4d88b14fb585e8c1944c39d816ec37 ca09567501a5f7cb01cd2aac1ef65777 85e5549669956530547d9bf15cac7472 55e6120b36afebabeeb1617d0e6d7149 bdbf93ee1bc847533290faa2216b61a0 353c24bcce3e2d6d81186ff30673807b 0eddcae973eb9daf5c8318bc0f11be08 dbe15c7d2204419ffedebc2d83a3f05f 8dd5888c3675c48e58123e8f629becba 137e09f3665007a52200c99942eb16a4 48b076289e0115e7f5e9ae061e1f9206 bd80b3d5218c0d8fcb5da091ae4a580b a90dedfc6da7acc21288b43cdcfddf4d cf87fef8d3361759f7c90047b911b99c 3854956a871c8ea3afb2e922056ad7c3'
+ LOG_INFO 'End to prepare the test environment.'
+ message='End to prepare the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to prepare the test environment.'
Mon Sep  4 13:50:14 2023 - INFO  - End to prepare the test environment.
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start to run test.'
+ message='Start to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to run test.'
Mon Sep  4 13:50:14 2023 - INFO  - Start to run test.
+ SSH_CMD 'logger -t tcp -p local6.err '\''147067b082d35a6f952c739da3e6ca913c953 7f09841a4aa940132171013d4603688c 893dea747e9e053fa97f6424424a0fc0 62836eca8b43635025f2eb6d9f096f08 1eb4b5cbe5a3565e831fa955f071e300 0bbef60fdbdb328ddfc9e3e2fc368960 5971ae606fd571a3e4ab281682ccf104 5812b21afbb63770e6191e03e1addcc4 315fa75f3bde24304246424d428267f3 0b08cc871fe41dcc736a293b6ae42eb9 e81c2cd76ff733d447be981bfeca4b6a dcf1f5e8e31e73b1dc692ab4c3f3d74f df52e85e2c5145f28acdcdffac9cceaa 93a7b76c26ab0503c383a761ecddbf7c 5afb480c200e62f9e6620cfa9ca4acd0 3b718b6cadf1c4fe0ff9cc8066a7aaf2 9db6d531aa174677e6e1f09297d80f39 a4fdc0f775d40aec569c56acc222b70a e7e9c150f1dcf70cb80af471c8b4c373 8169db34ff8990aabeb1d1130a5f2b0d bb22f82978182c19dd0ad28227a129b3 6519f72a297bc6a7670884f310e4d855 6372cbc4b938924fff84c6cedceb4ef3 2fba572f426330c6232016d9d1076e9d eeb9f58f8c37da060bf4f00564aa2c8d 493773bdd295cbbcfa25a045f1e03bf7 eac909c5c21da859fa6ead3e0b73b6cd 2e98aa86a66ee98acb36b3b2a4434360 c9a6df9edee62d19690eb0f857ef3c50 d338025ccf6e60524c173622ca094f28 84718333e2d0c785c09141da882e4e41 8c58fccf3efa933d22bd942dab2568a1 4edc27e15c60a6c540c69d4fa164390b ed562db26f6958a7f8780e054ff83bda 92fa0e72551307dffa01b88b4cb18a2a 4cb86dafcb160621416d0b0595130e3f b0916c04e5c9deaeaf2e71bc25fa4dda 12306368245307a53ef6a070198cd523 99fa6c3e42a957ba11d14c8a79f82a17 cbc558ac55a00676559275abf3c64ab2 df7651e9f933767307a66c902b3fe6a7 a23cdbd4d519306f41cae1bd04f76893 4a7db13b645ed6b6413b6c866a19ed39 c5d71029ba31a30965745cedb2a3cd9d 12beb4909823e46e590933ba8928adbc 5286b25abf1aae7d9bf10f1a34c515ba 5b8dd1f71df57d469374f8a0681e41cd cbff924cdf5664dea4263e7ff4414fb9 4ccec3975c645ba3cba289269b0d530b 1f6f924eae2fd2944d6a4831c2e3a685 94608ea44c8fa6b4790fb1fd906f6a70 b6b6ab0cdc878da533f0ad1f82caf24a bf7d67cab48ec14dbcbb85699416614b 3250d80ce4c3e0b87e4ca61371c2cd15 4d905e18e9d76e42626316f763d9d17c 068e3a23004d6918c9e9aa42c90e9fa0 741aa3ffe08cc261451cbbb862e0ed6a f1786ba6516b769eb373ace5c33757ba 9f1ac99cfc7e13f65e41f9c2193a5d8e 2beabccb1eae302e4749fa5058ccf6ed 94d72c19a41befe3ccde6eda2b4c4bd6 08c9cf81f9120e0558a308b6a22b78c1 11416b4f68fe16a5b9825ac4efc70d8d 71fb2ea316dfa2922f44967a540d000e 5ffb78e2a09d0da28c891c605d49f817 2a01246bbc6bdf1ff7c19e86ff49546f 5bbcb3b2acd0e54a238219f20ca7cea8 cff459efc506f15a6938e377b454647d eeae98e6e868e3b853fc6c2e277f6007 0696996abd32ab5d99aafef463270108 0e615fb7ab7271c1ff313b7a8bb0bb28 2530be84625e4c83819489c96d38527d 307d29ec747a5f0a6727f7ffd8cf9550 1af5fdc78d7e03332b96c6bd629d9c9e 2e749c25db58b69d276da48fcb12d307 c0021e7c182a829a52aa4a7f2af06025 7084ae4d2a9b30184b692d814977bf62 c8e260d86a5496ed1025daebb9d15964 4483d07ff6ccc0aab9793b0ea6801795 e64d425f2569da11797768b01c744737 3a838b252e5c5cfc5660ab09594c7314 6d4d88b14fb585e8c1944c39d816ec37 ca09567501a5f7cb01cd2aac1ef65777 85e5549669956530547d9bf15cac7472 55e6120b36afebabeeb1617d0e6d7149 bdbf93ee1bc847533290faa2216b61a0 353c24bcce3e2d6d81186ff30673807b 0eddcae973eb9daf5c8318bc0f11be08 dbe15c7d2204419ffedebc2d83a3f05f 8dd5888c3675c48e58123e8f629becba 137e09f3665007a52200c99942eb16a4 48b076289e0115e7f5e9ae061e1f9206 bd80b3d5218c0d8fcb5da091ae4a580b a90dedfc6da7acc21288b43cdcfddf4d cf87fef8d3361759f7c90047b911b99c 3854956a871c8ea3afb2e922056ad7c3'\'''
+ cmd='logger -t tcp -p local6.err '\''147067b082d35a6f952c739da3e6ca913c953 7f09841a4aa940132171013d4603688c 893dea747e9e053fa97f6424424a0fc0 62836eca8b43635025f2eb6d9f096f08 1eb4b5cbe5a3565e831fa955f071e300 0bbef60fdbdb328ddfc9e3e2fc368960 5971ae606fd571a3e4ab281682ccf104 5812b21afbb63770e6191e03e1addcc4 315fa75f3bde24304246424d428267f3 0b08cc871fe41dcc736a293b6ae42eb9 e81c2cd76ff733d447be981bfeca4b6a dcf1f5e8e31e73b1dc692ab4c3f3d74f df52e85e2c5145f28acdcdffac9cceaa 93a7b76c26ab0503c383a761ecddbf7c 5afb480c200e62f9e6620cfa9ca4acd0 3b718b6cadf1c4fe0ff9cc8066a7aaf2 9db6d531aa174677e6e1f09297d80f39 a4fdc0f775d40aec569c56acc222b70a e7e9c150f1dcf70cb80af471c8b4c373 8169db34ff8990aabeb1d1130a5f2b0d bb22f82978182c19dd0ad28227a129b3 6519f72a297bc6a7670884f310e4d855 6372cbc4b938924fff84c6cedceb4ef3 2fba572f426330c6232016d9d1076e9d eeb9f58f8c37da060bf4f00564aa2c8d 493773bdd295cbbcfa25a045f1e03bf7 eac909c5c21da859fa6ead3e0b73b6cd 2e98aa86a66ee98acb36b3b2a4434360 c9a6df9edee62d19690eb0f857ef3c50 d338025ccf6e60524c173622ca094f28 84718333e2d0c785c09141da882e4e41 8c58fccf3efa933d22bd942dab2568a1 4edc27e15c60a6c540c69d4fa164390b ed562db26f6958a7f8780e054ff83bda 92fa0e72551307dffa01b88b4cb18a2a 4cb86dafcb160621416d0b0595130e3f b0916c04e5c9deaeaf2e71bc25fa4dda 12306368245307a53ef6a070198cd523 99fa6c3e42a957ba11d14c8a79f82a17 cbc558ac55a00676559275abf3c64ab2 df7651e9f933767307a66c902b3fe6a7 a23cdbd4d519306f41cae1bd04f76893 4a7db13b645ed6b6413b6c866a19ed39 c5d71029ba31a30965745cedb2a3cd9d 12beb4909823e46e590933ba8928adbc 5286b25abf1aae7d9bf10f1a34c515ba 5b8dd1f71df57d469374f8a0681e41cd cbff924cdf5664dea4263e7ff4414fb9 4ccec3975c645ba3cba289269b0d530b 1f6f924eae2fd2944d6a4831c2e3a685 94608ea44c8fa6b4790fb1fd906f6a70 b6b6ab0cdc878da533f0ad1f82caf24a bf7d67cab48ec14dbcbb85699416614b 3250d80ce4c3e0b87e4ca61371c2cd15 4d905e18e9d76e42626316f763d9d17c 068e3a23004d6918c9e9aa42c90e9fa0 741aa3ffe08cc261451cbbb862e0ed6a f1786ba6516b769eb373ace5c33757ba 9f1ac99cfc7e13f65e41f9c2193a5d8e 2beabccb1eae302e4749fa5058ccf6ed 94d72c19a41befe3ccde6eda2b4c4bd6 08c9cf81f9120e0558a308b6a22b78c1 11416b4f68fe16a5b9825ac4efc70d8d 71fb2ea316dfa2922f44967a540d000e 5ffb78e2a09d0da28c891c605d49f817 2a01246bbc6bdf1ff7c19e86ff49546f 5bbcb3b2acd0e54a238219f20ca7cea8 cff459efc506f15a6938e377b454647d eeae98e6e868e3b853fc6c2e277f6007 0696996abd32ab5d99aafef463270108 0e615fb7ab7271c1ff313b7a8bb0bb28 2530be84625e4c83819489c96d38527d 307d29ec747a5f0a6727f7ffd8cf9550 1af5fdc78d7e03332b96c6bd629d9c9e 2e749c25db58b69d276da48fcb12d307 c0021e7c182a829a52aa4a7f2af06025 7084ae4d2a9b30184b692d814977bf62 c8e260d86a5496ed1025daebb9d15964 4483d07ff6ccc0aab9793b0ea6801795 e64d425f2569da11797768b01c744737 3a838b252e5c5cfc5660ab09594c7314 6d4d88b14fb585e8c1944c39d816ec37 ca09567501a5f7cb01cd2aac1ef65777 85e5549669956530547d9bf15cac7472 55e6120b36afebabeeb1617d0e6d7149 bdbf93ee1bc847533290faa2216b61a0 353c24bcce3e2d6d81186ff30673807b 0eddcae973eb9daf5c8318bc0f11be08 dbe15c7d2204419ffedebc2d83a3f05f 8dd5888c3675c48e58123e8f629becba 137e09f3665007a52200c99942eb16a4 48b076289e0115e7f5e9ae061e1f9206 bd80b3d5218c0d8fcb5da091ae4a580b a90dedfc6da7acc21288b43cdcfddf4d cf87fef8d3361759f7c90047b911b99c 3854956a871c8ea3afb2e922056ad7c3'\'''
+ remoteip=
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'logger -t tcp -p local6.err '\''147067b082d35a6f952c739da3e6ca913c953 7f09841a4aa940132171013d4603688c 893dea747e9e053fa97f6424424a0fc0 62836eca8b43635025f2eb6d9f096f08 1eb4b5cbe5a3565e831fa955f071e300 0bbef60fdbdb328ddfc9e3e2fc368960 5971ae606fd571a3e4ab281682ccf104 5812b21afbb63770e6191e03e1addcc4 315fa75f3bde24304246424d428267f3 0b08cc871fe41dcc736a293b6ae42eb9 e81c2cd76ff733d447be981bfeca4b6a dcf1f5e8e31e73b1dc692ab4c3f3d74f df52e85e2c5145f28acdcdffac9cceaa 93a7b76c26ab0503c383a761ecddbf7c 5afb480c200e62f9e6620cfa9ca4acd0 3b718b6cadf1c4fe0ff9cc8066a7aaf2 9db6d531aa174677e6e1f09297d80f39 a4fdc0f775d40aec569c56acc222b70a e7e9c150f1dcf70cb80af471c8b4c373 8169db34ff8990aabeb1d1130a5f2b0d bb22f82978182c19dd0ad28227a129b3 6519f72a297bc6a7670884f310e4d855 6372cbc4b938924fff84c6cedceb4ef3 2fba572f426330c6232016d9d1076e9d eeb9f58f8c37da060bf4f00564aa2c8d 493773bdd295cbbcfa25a045f1e03bf7 eac909c5c21da859fa6ead3e0b73b6cd 2e98aa86a66ee98acb36b3b2a4434360 c9a6df9edee62d19690eb0f857ef3c50 d338025ccf6e60524c173622ca094f28 84718333e2d0c785c09141da882e4e41 8c58fccf3efa933d22bd942dab2568a1 4edc27e15c60a6c540c69d4fa164390b ed562db26f6958a7f8780e054ff83bda 92fa0e72551307dffa01b88b4cb18a2a 4cb86dafcb160621416d0b0595130e3f b0916c04e5c9deaeaf2e71bc25fa4dda 12306368245307a53ef6a070198cd523 99fa6c3e42a957ba11d14c8a79f82a17 cbc558ac55a00676559275abf3c64ab2 df7651e9f933767307a66c902b3fe6a7 a23cdbd4d519306f41cae1bd04f76893 4a7db13b645ed6b6413b6c866a19ed39 c5d71029ba31a30965745cedb2a3cd9d 12beb4909823e46e590933ba8928adbc 5286b25abf1aae7d9bf10f1a34c515ba 5b8dd1f71df57d469374f8a0681e41cd cbff924cdf5664dea4263e7ff4414fb9 4ccec3975c645ba3cba289269b0d530b 1f6f924eae2fd2944d6a4831c2e3a685 94608ea44c8fa6b4790fb1fd906f6a70 b6b6ab0cdc878da533f0ad1f82caf24a bf7d67cab48ec14dbcbb85699416614b 3250d80ce4c3e0b87e4ca61371c2cd15 4d905e18e9d76e42626316f763d9d17c 068e3a23004d6918c9e9aa42c90e9fa0 741aa3ffe08cc261451cbbb862e0ed6a f1786ba6516b769eb373ace5c33757ba 9f1ac99cfc7e13f65e41f9c2193a5d8e 2beabccb1eae302e4749fa5058ccf6ed 94d72c19a41befe3ccde6eda2b4c4bd6 08c9cf81f9120e0558a308b6a22b78c1 11416b4f68fe16a5b9825ac4efc70d8d 71fb2ea316dfa2922f44967a540d000e 5ffb78e2a09d0da28c891c605d49f817 2a01246bbc6bdf1ff7c19e86ff49546f 5bbcb3b2acd0e54a238219f20ca7cea8 cff459efc506f15a6938e377b454647d eeae98e6e868e3b853fc6c2e277f6007 0696996abd32ab5d99aafef463270108 0e615fb7ab7271c1ff313b7a8bb0bb28 2530be84625e4c83819489c96d38527d 307d29ec747a5f0a6727f7ffd8cf9550 1af5fdc78d7e03332b96c6bd629d9c9e 2e749c25db58b69d276da48fcb12d307 c0021e7c182a829a52aa4a7f2af06025 7084ae4d2a9b30184b692d814977bf62 c8e260d86a5496ed1025daebb9d15964 4483d07ff6ccc0aab9793b0ea6801795 e64d425f2569da11797768b01c744737 3a838b252e5c5cfc5660ab09594c7314 6d4d88b14fb585e8c1944c39d816ec37 ca09567501a5f7cb01cd2aac1ef65777 85e5549669956530547d9bf15cac7472 55e6120b36afebabeeb1617d0e6d7149 bdbf93ee1bc847533290faa2216b61a0 353c24bcce3e2d6d81186ff30673807b 0eddcae973eb9daf5c8318bc0f11be08 dbe15c7d2204419ffedebc2d83a3f05f 8dd5888c3675c48e58123e8f629becba 137e09f3665007a52200c99942eb16a4 48b076289e0115e7f5e9ae061e1f9206 bd80b3d5218c0d8fcb5da091ae4a580b a90dedfc6da7acc21288b43cdcfddf4d cf87fef8d3361759f7c90047b911b99c 3854956a871c8ea3afb2e922056ad7c3'\''' -i '' -u root -p 'openEuler12#$' -t 300 -o 22
Usage: sshcmd.sh -c "command" -i "remote machinet ip" [-u login_user] [-p login_password] [-o port] [-t timeout]+ ret=1
+ test 1 -ne 0
+ LOG_ERROR 'Failed in remote CMD operation:1'
+ message='Failed in remote CMD operation:1'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'Failed in remote CMD operation:1'
Mon Sep  4 13:50:14 2023 - ERROR - Failed in remote CMD operation:1
+ return 1
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_rsyslog_reliability_lenght.sh line 43'
+ message='oe_test_rsyslog_reliability_lenght.sh line 43'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'oe_test_rsyslog_reliability_lenght.sh line 43'
Mon Sep  4 13:50:14 2023 - ERROR - oe_test_rsyslog_reliability_lenght.sh line 43
+ '[' 0 -eq 1 ']'
+ return 0
+ SLEEP_WAIT 20
+ wait_time=20
+ cmd=
+ mode=1
+ python3 /root/mugen/libs/locallibs/sleep_wait.py --time 20 --cmd '' --mode 1
+ grep 'tcp\[' /var/log/messages
+ grep 14706
++ ls -l test.txt
++ awk '{print $5}'
+ size=0
+ '[' 0 -gt 0 ']'
+ CHECK_RESULT 1
+ actual_result=1
+ expect_result=0
+ mode=0
+ error_log=
+ exit_mode=0
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 0x
+ test -n ''
+ (( exec_result++ ))
+ LOG_ERROR 'oe_test_rsyslog_reliability_lenght.sh line 48'
+ message='oe_test_rsyslog_reliability_lenght.sh line 48'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'oe_test_rsyslog_reliability_lenght.sh line 48'
Mon Sep  4 13:50:34 2023 - ERROR - oe_test_rsyslog_reliability_lenght.sh line 48
+ '[' 0 -eq 1 ']'
+ return 0
+ LOG_INFO 'End to run test.'
+ message='End to run test.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to run test.'
Mon Sep  4 13:50:34 2023 - INFO  - End to run test.
+ CASE_RESULT 0
+ case_re=0
+ test -z 2
+ test 2 -gt 0
+ LOG_ERROR 'failed to execute the case.'
+ message='failed to execute the case.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'failed to execute the case.'
Mon Sep  4 13:50:34 2023 - ERROR - failed to execute the case.
+ exit 2
+ post_test
+ LOG_INFO 'Start to restore the test environment.'
+ message='Start to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'Start to restore the test environment.'
Mon Sep  4 13:50:34 2023 - INFO  - Start to restore the test environment.
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z '' ]]
+ [[ -z '' ]]
+ LOG_WARN 'no thing to do.'
+ message='no thing to do.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level warn --message 'no thing to do.'
Mon Sep  4 13:50:34 2023 - WARN  - no thing to do.
+ return 0
+ SSH_CMD 'rm -rf /etc/rsyslog.d/client.conf && systemctl restart rsyslog && systemctl start iptables'
+ cmd='rm -rf /etc/rsyslog.d/client.conf && systemctl restart rsyslog && systemctl start iptables'
+ remoteip=
+ remotepasswd='openEuler12#$'
+ remoteuser=root
+ timeout=300
+ connport=22
+ bash /root/mugen/libs/locallibs/sshcmd.sh -c 'rm -rf /etc/rsyslog.d/client.conf && systemctl restart rsyslog && systemctl start iptables' -i '' -u root -p 'openEuler12#$' -t 300 -o 22
Usage: sshcmd.sh -c "command" -i "remote machinet ip" [-u login_user] [-p login_password] [-o port] [-t timeout]+ ret=1
+ test 1 -ne 0
+ LOG_ERROR 'Failed in remote CMD operation:1'
+ message='Failed in remote CMD operation:1'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level error --message 'Failed in remote CMD operation:1'
Mon Sep  4 13:50:34 2023 - ERROR - Failed in remote CMD operation:1
+ return 1
+ rm -rf /etc/rsyslog.d/server.conf test.txt
+ systemctl restart rsyslog
+ systemctl start iptables
Failed to start iptables.service: Unit iptables.service not found.
+ LOG_INFO 'End to restore the test environment.'
+ message='End to restore the test environment.'
+ python3 /root/mugen/libs/locallibs/mugen_log.py --level info --message 'End to restore the test environment.'
Mon Sep  4 13:50:35 2023 - INFO  - End to restore the test environment.
